@using System.Globalization
@using RentalMobile.Helpers
@model RentalMobile.Models.MaintenanceProvider
@{
    ViewBag.Title = "Provider Profile";
    Layout = "~/Views/Shared/Profiles/_Provider.cshtml";
}

@functions {
    public string GetVideo()
    {
        var uri = HttpContext.Current.Request.Url;
        var videourl = uri.Scheme + Uri.SchemeDelimiter + uri.Host + ":" + uri.Port + "/Html/NoVideo.htm";
        try
        {
            if ((Model.YouTubeVideo != null && (bool)Model.YouTubeVideo))
            {
                videourl = HtmlHelperExtensions.GetYouTubeVideoEmbeddedUrl(Model.YouTubeVideoURL.ToString(CultureInfo.InvariantCulture));
            }
            else if ((Model.VimeoVideo != null && (bool)Model.VimeoVideo))
            {
                videourl = HtmlHelperExtensions.GeVimeoVideoEmbeddedUrl(Model.VimeoVideoURL.ToString(CultureInfo.InvariantCulture));
            }
        }
        catch (Exception)
        {
            videourl = uri.Scheme + Uri.SchemeDelimiter + uri.Host + ":" + uri.Port + "/Html/NoVideo.htm";
        }
        return videourl;
    }
}
@section profile
{
    @Html.Partial("_ProfileDetail", (object)ViewBag.MaintenanceProvider)
}
@section video
    {
    <div id="video" class="panel">
        <iframe src="@GetVideo()" width="900" height="400"></iframe>
    </div>
}
@section map
{
    <div id="map" class="panel">
        <iframe width="100%" height="300" scrolling="no" marginheight="0" marginwidth="0" src="http://maps.google.co.in/maps?q=@ViewBag.ProviderGoogleMap&amp;z=13&amp;output=embed">
        </iframe>
        <br />
    </div>
}
@section account
{
    <div id="account" class="panel">
        <section class="row double-bottom">
            <div class="sixteen columns prop-details">
                <div class="six columns push by-one">
                    <input type="submit" class="full-width tall" value="Edit Profile" onclick="location.href='/Provider/Edit/@ViewBag.ProviderId'"/>
                </div>
                <div class="six columns push by-two">
                    <input type="submit" class="full-width tall" value="Edit Email" onclick="location.href='/Account/ChangeEmail'" />
                </div>
            </div>
            <div class="sixteen columns prop-details">
                <div class="six columns push by-one">
                    <input type="submit" class="full-width tall" value="Change Passowrd" onclick="location.href='/Account/ChangePassword'" />
                </div>
                <div class="six columns push by-two">
                    <input type="submit" class="full-width tall" value="Change Address" onclick="location.href='/Provider/ChangeAddress/@ViewBag.ProviderId'"/>
                </div>
            </div>
            <div class="sixteen columns prop-details">
                <div class="six columns push by-one">
                    <input type="submit" class="full-width tall" value="Delete Account" onclick="location.href='/Provider/Delete/@ViewBag.ProviderId'"/>
                </div>
                <div class="six columns push by-two">
                    <input type="submit" class="full-width tall" value="Update Photo" onclick="location.href='/Provider/UpdateProfilePicture/@ViewBag.ProviderId'"/>
                </div>
            </div>
            <div class="sixteen columns prop-details">
                <div class="six columns push by-one">
                    <input type="submit" class="full-width tall" value="Update Video" onclick="location.href='/Account/UpdateVideo'" />
                </div>
            </div>
        </section>
    </div>
}
@section maintenance
{
    <div id="maintenance">
        <section class="row double-bottom">
            <div class="sixteen columns prop-details">
                <div class="six columns push by-one">
                    <input type="submit" class="full-width tall" value="New Requests" />
                </div>
                <div class="six columns push by-two">
                    <input type="submit" class="full-width tall" value="Current Requests" onclick="location.href='./SpecialistMaintenance/Create';" />
                </div>
            </div>
            <div class="sixteen columns prop-details">
                <div class="six columns push by-one">
                    <input type="submit" class="full-width tall" value="Archived Requests" onclick="location.href='./SpecialistMaintenance';" />
                </div>
                @*       <div class="six columns push by-two">
                    <input type="submit" class="full-width tall" value="Archived Requests" />
                </div>*@
            </div>
            @* <div class="sixteen columns prop-details">
                <div class="six columns push by-one">
                    <input type="submit" class="full-width tall" value="Future: Hire Specialist" />
                </div>
                <div class="six columns push by-two">
                    <input type="submit" class="full-width tall" value="Future" />
                </div>
            </div>*@
        </section>
    </div>
}
@section job
{
    <div id="job">
        <section class="row double-bottom">
            <div class="sixteen columns prop-details">
                <div class="six columns push by-one">
                    <input type="submit" class="full-width tall" value="New Job Offers" onclick="location.href='./Provider/NewJobOffer';" />
                </div>
                <div class="six columns push by-two">
                    <input type="submit" class="full-width tall" value="Accepted Jobs" onclick="location.href='';" />
                </div>
            </div>
            <div class="sixteen columns prop-details">
                <div class="six columns push by-one">
                    <input type="submit" class="full-width tall" value="Rejected Jobs" onclick="location.href='';" />
                </div>
            </div>
        </section>
    </div>
}
@section property
{
    <div id="property" class="panel">
        <section class="fourteen columns">
            @*                <h2 class="remove-top">
                    Rent</h2>*@
            <!-- filters -->
            <form action="#" class="row">
            <!-- tag filters -->
            <ul class="filter-list nine alpha columns row">
                <li><a data-rel="all" class="current">All</a></li>
                <li><a data-rel="house">House</a></li>
                <li><a data-rel="appartment">Apartment</a></li>
                <li><a data-rel="loft">Loft</a></li>
                <li><a data-rel="offices">Offices</a></li>
                <li><a data-rel="condos">Condos</a></li>
            </ul>
            <div class="switcher fr">
                <a href="#" id="gridview" class="switcher"><i class="icon-layout"></i></a><a href="#"
                    id="listview" class="switcher active"><i class="icon-menu"></i></a>
            </div>
            </form>
            <!-- List/Grid gallery -->
            <ul id="property-list" class="list-grid-gallery list">
                <li class="prop-type all house">
                    <article>
                        <figure class="five columns alpha">
                            <a href="#" class="camera">3</a>
                            <img src="../../images/dotimages/properties/gallery-280x165.png" class="scale-with-grid"
                                alt="gallery" />
                        </figure>
                        <div class="eight columns omega">
                            <h4>
                                House 79th St #8C, New York NY, USA</h4>
                            <ul class="prop-data">
                                <li class="price">$1,875,000</li>
                                <li class="new">New construction</li>
                            </ul>
                            <p class="propr-details">
                                1 bedroom / 2 bathrom / 1,300 sqft
                            </p>
                            <p class="prop-extract">
                                Duis a est quis nunc bibendum consequat. Cras ornare sodales venenatis. Proin id
                                rhoncus massa ellentesque quis orci non lacus tincidunt scelerisque. Integer bibendum
                                commodteger bibendum c scele.</p>
                            <p class="prop-webid">
                                Web ID #1</p>
                            <ul class="toolbar">
                                <li class="dollar"><a href="#">Compare</a></li>
                                <li class="map"><a href="#">Map</a></li>
                                <li>@Html.ActionLink("Contact", "Index", "Contact")</li>
                                <li class="next-arr">@Html.RouteLink("Property", new { id = 0 }, null)></li>
                                @*  @Html.RouteLink("Description", "Property",new { id = 0 } )*@ @*			<li class="next-arr">@Html.ActionLink("Description", "Index", "Property", new { id = 0 }, null)></li>
*@
                            </ul>
                        </div>
                    </article>
                </li>
                <li class="prop-type all house">
                    <article>
                        <figure class="five columns alpha">
                            <a href="#" class="camera">3</a>
                            <img src="../../images/dotimages/properties/gallery-280x165.png" class="scale-with-grid"
                                alt="gallery" />
                        </figure>
                        <div class="eight columns omega">
                            <h4>
                                House 79th St #8C, New York NY, USA</h4>
                            <ul class="prop-data">
                                <li class="price">$1,875,000</li>
                                <li class="new">New construction</li>
                            </ul>
                            <p class="propr-details">
                                1 bedroom / 2 bathrom / 1,300 sqft
                            </p>
                            <p class="prop-extract">
                                Duis a est quis nunc bibendum consequat. Cras ornare sodales venenatis. Proin id
                                rhoncus massa ellentesque quis orci non lacus tincidunt scelerisque. Integer bibendum
                                commodteger bibendum c scele.</p>
                            <p class="prop-webid">
                                Web ID #1</p>
                            <ul class="toolbar">
                                <li class="dollar"><a href="#">Compare</a></li>
                                <li class="map"><a href="#">Map</a></li>
                                <li class="next-arr"><a href="/property/index/0">Description</a></li>
                            </ul>
                        </div>
                    </article>
                </li>
                <li class="prop-type all appartment">
                    <article>
                        <figure class="five columns alpha">
                            <a href="#" class="camera">3</a>
                            <img src="../../images/dotimages/properties/gallery-280x165.png" class="scale-with-grid"
                                alt="gallery" />
                        </figure>
                        <div class="eight columns omega">
                            <h4>
                                House 79th St #8C, New York NY, USA</h4>
                            <ul class="prop-data">
                                <li class="price">$1,875,000</li>
                                <li class="new">New construction</li>
                            </ul>
                            <p class="propr-details">
                                1 bedroom / 2 bathrom / 1,300 sqft
                            </p>
                            <p class="prop-extract">
                                Duis a est quis nunc bibendum consequat. Cras ornare sodales venenatis. Proin id
                                rhoncus massa ellentesque quis orci non lacus tincidunt scelerisque. Integer bibendum
                                commodteger bibendum c scele.</p>
                            <p class="prop-webid">
                                Web ID #1</p>
                            <ul class="toolbar">
                                <li class="dollar"><a href="#">Compare</a></li>
                                <li class="map"><a href="#">Map</a></li>
                                <li class="next-arr"><a href="/property/index/0">Description</a></li>
                            </ul>
                        </div>
                    </article>
                </li>
                <li class="prop-type all appartment">
                    <article>
                        <figure class="five columns alpha">
                            <a href="#" class="camera">3</a>
                            <img src="../../images/dotimages/properties/gallery-280x165.png" class="scale-with-grid"
                                alt="gallery" />
                        </figure>
                        <div class="eight columns omega">
                            <h4>
                                House 79th St #8C, New York NY, USA</h4>
                            <ul class="prop-data">
                                <li class="price">$1,875,000</li>
                                <li class="new">New construction</li>
                            </ul>
                            <p class="propr-details">
                                1 bedroom / 2 bathrom / 1,300 sqft
                            </p>
                            <p class="prop-extract">
                                Duis a est quis nunc bibendum consequat. Cras ornare sodales venenatis. Proin id
                                rhoncus massa ellentesque quis orci non lacus tincidunt scelerisque. Integer bibendum
                                commodteger bibendum c scele.</p>
                            <p class="prop-webid">
                                Web ID #1</p>
                            <ul class="toolbar">
                                <li class="dollar"><a href="#">Compare</a></li>
                                <li class="map"><a href="#">Map</a></li>
                                <li class="next-arr"><a href="/property/index/0">Description</a></li>
                            </ul>
                        </div>
                    </article>
                </li>
                <li class="prop-type all loft">
                    <article>
                        <figure class="five columns alpha">
                            <a href="#" class="camera">3</a>
                            <img src="../../images/dotimages/properties/gallery-280x165.png" class="scale-with-grid"
                                alt="gallery" />
                        </figure>
                        <div class="eight columns omega">
                            <h4>
                                House 79th St #8C, New York NY, USA</h4>
                            <ul class="prop-data">
                                <li class="price">$1,875,000</li>
                                <li class="new">New construction</li>
                            </ul>
                            <p class="propr-details">
                                1 bedroom / 2 bathrom / 1,300 sqft
                            </p>
                            <p class="prop-extract">
                                Duis a est quis nunc bibendum consequat. Cras ornare sodales venenatis. Proin id
                                rhoncus massa ellentesque quis orci non lacus tincidunt scelerisque. Integer bibendum
                                commodteger bibendum c scele.</p>
                            <p class="prop-webid">
                                Web ID #1</p>
                            <ul class="toolbar">
                                <li class="dollar"><a href="#">Compare</a></li>
                                <li class="map"><a href="#">Map</a></li>
                                <li class="next-arr"><a href="/property/index/0">Description</a></li>
                            </ul>
                        </div>
                    </article>
                </li>
                <li class="prop-type all loft">
                    <article>
                        <figure class="five columns alpha">
                            <a href="#" class="camera">3</a>
                            <img src="../../images/dotimages/properties/gallery-280x165.png" class="scale-with-grid"
                                alt="gallery" />
                        </figure>
                        <div class="eight columns omega">
                            <h4>
                                House 79th St #8C, New York NY, USA</h4>
                            <ul class="prop-data">
                                <li class="price">$1,875,000</li>
                                <li class="new">New construction</li>
                            </ul>
                            <p class="propr-details">
                                1 bedroom / 2 bathrom / 1,300 sqft
                            </p>
                            <p class="prop-extract">
                                Duis a est quis nunc bibendum consequat. Cras ornare sodales venenatis. Proin id
                                rhoncus massa ellentesque quis orci non lacus tincidunt scelerisque. Integer bibendum
                                commodteger bibendum c scele.</p>
                            <p class="prop-webid">
                                Web ID #1</p>
                            <ul class="toolbar">
                                <li class="dollar"><a href="#">Compare</a></li>
                                <li class="map"><a href="#">Map</a></li>
                                <li class="next-arr"><a href="/property/index/0">Description</a></li>
                            </ul>
                        </div>
                    </article>
                </li>
                <li class="prop-type all condos">
                    <article>
                        <figure class="five columns alpha">
                            <a href="#" class="camera">3</a>
                            <img src="../../images/dotimages/properties/gallery-280x165.png" class="scale-with-grid"
                                alt="gallery" />
                        </figure>
                        <div class="eight columns omega">
                            <h4>
                                House 79th St #8C, New York NY, USA</h4>
                            <ul class="prop-data">
                                <li class="price">$1,875,000</li>
                                <li class="new">New construction</li>
                            </ul>
                            <p class="propr-details">
                                1 bedroom / 2 bathrom / 1,300 sqft
                            </p>
                            <p class="prop-extract">
                                Duis a est quis nunc bibendum consequat. Cras ornare sodales venenatis. Proin id
                                rhoncus massa ellentesque quis orci non lacus tincidunt scelerisque. Integer bibendum
                                commodteger bibendum c scele.</p>
                            <p class="prop-webid">
                                Web ID #1</p>
                            <ul class="toolbar">
                                <li class="dollar"><a href="#">Compare</a></li>
                                <li class="map"><a href="#">Map</a></li>
                                <li class="next-arr"><a href="/property/index/0">Description</a></li>
                            </ul>
                        </div>
                    </article>
                </li>
                <li class="prop-type all condos">
                    <article>
                        <figure class="five columns alpha">
                            <a href="#" class="camera">3</a>
                            <img src="../../images/dotimages/properties/gallery-280x165.png" class="scale-with-grid"
                                alt="gallery" />
                        </figure>
                        <div class="eight columns omega">
                            <h4>
                                House 79th St #8C, New York NY, USA</h4>
                            <ul class="prop-data">
                                <li class="price">$1,875,000</li>
                                <li class="new">New construction</li>
                            </ul>
                            <p class="propr-details">
                                1 bedroom / 2 bathrom / 1,300 sqft
                            </p>
                            <p class="prop-extract">
                                Duis a est quis nunc bibendum consequat. Cras ornare sodales venenatis. Proin id
                                rhoncus massa ellentesque quis orci non lacus tincidunt scelerisque. Integer bibendum
                                commodteger bibendum c scele.</p>
                            <p class="prop-webid">
                                Web ID #1</p>
                            <ul class="toolbar">
                                <li class="dollar"><a href="#">Compare</a></li>
                                <li class="map"><a href="#">Map</a></li>
                                <li class="next-arr"><a href="/property/index/0">Description</a></li>
                            </ul>
                        </div>
                    </article>
                </li>
            </ul>
            <!-- /.List -->
        </section>
    </div>
}
@section coverage
{
    <div id="coverage" class="panel">
        <div id="Coveragemenu">
            <section class="row double-bottom">
                <div class="sixteen columns prop-details">
                    <div class="six columns push by-one">
                        <input type="submit" class="full-width tall" value="Edit Coverage" onclick="location.href='./Specialist/CompleteProfile';" />
                    </div>
                    <div class="six columns push by-two">
                        <input type="submit" class="full-width tall" id="ViewCoverageButton" value="View Coverage" />
                    </div>
                </div>
                 <div class="sixteen columns prop-details">
                    <div class="six columns push by-one">
                        <input type="submit" class="full-width tall" value="Edit Zone" onclick="location.href='./Specialist/CompleteProfile';" />
                    </div>
                    <div class="six columns push by-two">
                        <input type="submit" class="full-width tall" id="ViewZoneButton" value="View Zone" />
                    </div>
                </div>

            </section>
        </div>
        <div id="CoverageSection" style="display: none">
            @{ Html.RenderAction("_Coverage", "Specialist"); }
            <section class="row double-bottom">
                <div class="sixteen columns prop-details">
                    <div class="three columns push by-one">
                        <input type="submit" class="full-width tall" id="BacktoCoverageButton" value="Back To Coverage" />
                    </div>
                </div>
            </section>
        </div>
    </div>
}
@section team
{
    <div id="team" class="panel">
        <div id="Teammenu" style="display: block">
            @if (ViewBag.TeamId == null)
            {
                <section class="row double-bottom" id="NoTeamSection">
                    <div class="sixteen columns prop-details">
                        <div class="six columns push by-one">
                            <input type="submit" class="full-width tall" value="Create Team" onclick="location.href='./Team/Create';" />
                        </div>
                    </div>
                </section>   
            }
            else
            {
                <section class="row double-bottom">
                    <div class="sixteen columns prop-details">
                        <div class="six columns push by-one">
                            <input type="submit" class="full-width tall" value="Edit Team" onclick="location.href='./Team/Edit/@ViewBag.TeamId';" />
                        </div>
                        <div class="six columns push by-two">
                            <input type="submit" class="full-width tall" id="ViewTeam" value="View Team" />
                        </div>
                    </div>
                    <div class="sixteen columns prop-details">
                        <div class="six columns push by-one">
                            <input type="submit" class="full-width tall" value="Add Team Member" onclick=" location.href = '../Provider/AddTeamMember'; " />
                        </div>
                        <div class="six columns push by-two">
                            <input type="submit" class="full-width tall" value="Remove Team Member" onclick=" location.href = '../Provider/RemoveTeamMember'; " />
                        </div>
                    </div>
                </section>       
            }
        </div>
        @if (ViewBag.TeamId != null)
        {

            <div id="TeamMemberSectionSection" style="display: none">
                @{ Html.RenderAction("_Team", "Provider"); }
                <section class="row double-bottom">
                    <div class="sixteen columns prop-details">
                        <div class="three columns push by-six">
                            <input type="submit" class="full-width tall" id="BacktoTeamMenuButton" value="Back To Team"
                                onclick=" location.href= '/Provider#team';" />
                        </div>
                    </div>
                </section>
            </div> 
        }
    </div>
}
@section contract
{
    <div id="contract" class="panel">
        <section class="row double-bottom">
            <div class="sixteen columns prop-details">
                <div class="six columns push by-one">
                    <input type="submit" class="full-width tall" value="View Contract" onclick="location.href='';" />
                </div>
            </div>
        </section>
    </div>
}
@section payment
{
    <div id="payment" class="panel">
        <section class="row double-bottom">
            <div class="sixteen columns prop-details">
                <div class="six columns push by-one">
                    <input type="submit" class="full-width tall" value="Payment History" onclick="location.href='./SpecialistMaintenance/Create';" />
                </div>
            </div>
        </section>
    </div>
}
@section advertise
{
    <div id="advertise">
        <section class="row double-bottom">
            <div class="sixteen columns prop-details">
                <div class="six columns push by-one">
                    <input type="submit" class="full-width tall" value="New Ads" />
                </div>
                <div class="six columns push by-two">
                    <input type="submit" class="full-width tall" value="Current Ads" onclick="location.href='./SpecialistMaintenance/Create';" />
                </div>
            </div>
            <div class="sixteen columns prop-details">
                <div class="six columns push by-one">
                    <input type="submit" class="full-width tall" value="Reports" onclick="location.href='./SpecialistMaintenance';" />
                </div>
                @*       <div class="six columns push by-two">
                    <input type="submit" class="full-width tall" value="Archived Requests" />
                </div>*@
            </div>
            @* <div class="sixteen columns prop-details">
                <div class="six columns push by-one">
                    <input type="submit" class="full-width tall" value="Future: Hire Specialist" />
                </div>
                <div class="six columns push by-two">
                    <input type="submit" class="full-width tall" value="Future" />
                </div>
            </div>*@
        </section>
    </div>
}
@section scripts
{
    <script type="text/javascript">
        $("#ViewTeam").click(function () {
            $("#Teammenu").toggle('slow');
            $("#TeamMemberSectionSection").toggle('slow');
        });

        $("#BacktoTeamMenuButton").click(function () {
            $("#Teammenu").toggle('slow');
            $("#TeamMemberSectionSection").toggle('slow');
        });




        //Coverage
        $("#ViewCoverage").click(function () {
            $("#Coveragemenu").toggle('slow');
            $("#CoverageSection").toggle('slow');
        });

        $("#BacktoCoverageMenuButton").click(function () {
            $("#Coveragemenu").toggle('slow');
            $("#CoverageSection").toggle('slow');
        });
    </script>
}
